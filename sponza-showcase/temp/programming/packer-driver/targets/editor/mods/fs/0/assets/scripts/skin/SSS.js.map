{"version":3,"sources":["file:///D:/Deferred_RenderPipeline/sponza-showcase/assets/scripts/skin/SSS.ts"],"names":["_decorator","Component","ModelComponent","ccclass","SSS","start","mat","node","getComponent","material","_pass","passes","_handle","getHandle","setSSSIntensity","e","setUniform","progress","toggle","active","isChecked"],"mappings":";;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,c,OAAAA,c;;;;;;;OAC1B;AAAEC,QAAAA;AAAF,O,GAAcH,U;;qBAGPI,G,WADZD,OAAO,CAAC,KAAD,C,yBAAR,MACaC,GADb,SACyBH,SADzB,CACmC;AAAA;AAAA;;AAAA,2CAEb,IAFa;;AAAA,yCAGf,IAHe;AAAA;;AAKxBI,QAAAA,KAAK,GAAI;AACZ,gBAAMC,GAAG,GAAG,KAAKC,IAAL,CAAUC,YAAV,CAAuBN,cAAvB,EAAuCO,QAAnD;AACA,eAAKC,KAAL,GAAaJ,GAAG,CAACK,MAAJ,CAAW,CAAX,CAAb;AACA,eAAKC,OAAL,GAAe,KAAKF,KAAL,CAAWG,SAAX,CAAqB,YAArB,CAAf;AACH;;AAEMC,QAAAA,eAAe,CAAEC,CAAF,EAAsB;AACxC,eAAKL,KAAL,CAAWM,UAAX,CAAsB,KAAKJ,OAA3B,EAAoCG,CAAC,CAACE,QAAtC;AACH;;AAEMC,QAAAA,MAAM,CAAEH,CAAF,EAAsB;AAC/B,eAAKR,IAAL,CAAUY,MAAV,GAAmBJ,CAAC,CAACK,SAArB;AACH;;AAjB8B,O","sourcesContent":["import { _decorator, Component, ModelComponent, SliderComponent, ToggleComponent } from 'cc';\r\nconst { ccclass } = _decorator;\r\n\r\n@ccclass('SSS')\r\nexport class SSS extends Component {\r\n\r\n    private _handle = null;\r\n    private _pass = null;\r\n\r\n    public start () {\r\n        const mat = this.node.getComponent(ModelComponent).material;\r\n        this._pass = mat.passes[0];\r\n        this._handle = this._pass.getHandle('scattering');\r\n    }\r\n\r\n    public setSSSIntensity (e: SliderComponent) {\r\n        this._pass.setUniform(this._handle, e.progress);\r\n    }\r\n\r\n    public toggle (e: ToggleComponent) {\r\n        this.node.active = e.isChecked;\r\n    }\r\n}\r\n"]}