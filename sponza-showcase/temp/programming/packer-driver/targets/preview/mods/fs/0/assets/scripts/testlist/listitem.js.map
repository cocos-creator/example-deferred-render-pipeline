{"version":3,"sources":["file:///D:/Deferred_RenderPipeline/sponza-showcase/assets/scripts/testlist/listitem.ts"],"names":["_decorator","ButtonComponent","Component","director","LabelComponent","BackButton","sceneArray","ccclass","property","ListItem","onload","start","index","node","getSiblingIndex","_name","label","getComponentInChildren","button","getComponent","updateItem","loadScene","saveOffset","saveIndex","interactable","refreshButton","idx","name","string"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,e,OAAAA,e;AAAiBC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,Q,OAAAA,Q;AAAUC,MAAAA,c,OAAAA,c;;AAClDC,MAAAA,U,eAAAA,U;;AACAC,MAAAA,U,cAAAA,U;;;;;;;AACDC,MAAAA,O,GAAsBP,U,CAAtBO,O;AAASC,MAAAA,Q,GAAaR,U,CAAbQ,Q;;0BAGJC,Q,WADZF,OAAO,CAAC,UAAD,C;;;;;;;;;;;;kEAGW,CAAC,C;;kEACD,E;;kEACuB,I;;mEACE,I;;;;;;;eAEjCG,M,GAAP,kBAAiB,CAEhB,C;;eAEMC,K,GAAP,iBAAgB;AACZ;AACA,eAAKC,KAAL,GAAa,KAAKC,IAAL,CAAUC,eAAV,EAAb;AACA,eAAKC,KAAL,GAAa,EAAb;;AACA,cAAI,KAAKF,IAAT,EAAc;AACV,iBAAKG,KAAL,GAAa,KAAKH,IAAL,CAAUI,sBAAV,CAAiCb,cAAjC,CAAb;AACA,iBAAKc,MAAL,GAAc,KAAKL,IAAL,CAAUM,YAAV,CAAuBlB,eAAvB,CAAd;AACH;;AACD,eAAKmB,UAAL,CAAgB,KAAKR,KAArB,EAA4B;AAAA;AAAA,wCAAW,KAAKA,KAAhB,CAA5B;AACH,S;;eAEMS,S,GAAP,qBAAoB;AAChB;AAAA;AAAA,wCAAWC,UAAX;AACA;AAAA;AAAA,wCAAWC,SAAX,CAAqB,KAAKX,KAA1B;AACA,eAAKM,MAAL,CAAYM,YAAZ,GAA2B,KAA3B;AACArB,UAAAA,QAAQ,CAACkB,SAAT,CAAmB,KAAKN,KAAxB,EAA+B;AAAA;AAAA,wCAAWU,aAA1C;AACH,S;;eAEML,U,GAAP,oBAAmBM,GAAnB,EAAgCC,IAAhC,EAA8C;AAC1C,eAAKf,KAAL,GAAac,GAAb;AACA,eAAKX,KAAL,GAAaY,IAAb;AACA,eAAKX,KAAL,CAAWY,MAAX,GAAoBD,IAApB;AACH,S;;;QAjCyBzB,S","sourcesContent":["import { _decorator, ButtonComponent, Component, director, LabelComponent, Node } from 'cc';\r\nimport { BackButton } from './backbutton';\r\nimport { sceneArray } from './scenelist';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('ListItem')\r\nexport class ListItem extends Component {\r\n\r\n    public index = -1;\r\n    public _name = '';\r\n    public label: LabelComponent | null = null;\r\n    public button: ButtonComponent | null = null;\r\n\r\n    public onload () {\r\n\r\n    }\r\n\r\n    public start () {\r\n        // Your initialization goes here.\r\n        this.index = this.node.getSiblingIndex();\r\n        this._name = '';\r\n        if (this.node){\r\n            this.label = this.node.getComponentInChildren(LabelComponent) as LabelComponent;\r\n            this.button = this.node.getComponent(ButtonComponent) as ButtonComponent;\r\n        }\r\n        this.updateItem(this.index, sceneArray[this.index]);\r\n    }\r\n\r\n    public loadScene () {\r\n        BackButton.saveOffset();\r\n        BackButton.saveIndex(this.index);\r\n        this.button.interactable = false;\r\n        director.loadScene(this._name, BackButton.refreshButton);\r\n    }\r\n\r\n    public updateItem (idx: number, name: string) {\r\n        this.index = idx;\r\n        this._name = name;\r\n        this.label.string = name;\r\n    }\r\n}\r\n"]}